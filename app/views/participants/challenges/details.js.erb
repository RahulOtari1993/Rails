<% if @challenge.challenge_type == "link" %>
  $('.challenge-submission-modal').html("<%= escape_javascript render '/participants/challenges/modals/visit_url_modal', challenge: @challenge %>");
  $('#visit_url_modal').modal('show');
<% elsif @challenge.challenge_type == "video" %>
  $('.challenge-submission-modal').html("<%= escape_javascript render '/participants/challenges/modals/watch_video_modal', challenge: @challenge %>");
  $('#watch_video_modal').modal('show');
<% elsif @challenge.challenge_type == "article" %>
  $('.challenge-submission-modal').html("<%= escape_javascript render '/participants/challenges/modals/read_article_modal', challenge: @challenge %>");
  $('#read_article_modal').modal('show');
<% elsif @challenge.challenge_type == "collect" && @challenge.parameters == 'quiz' %>
  $('.challenge-submission-modal').html("<%= escape_javascript render '/participants/challenges/modals/quiz_modal', challenge: @challenge %>");
  $('#challenge_quiz_modal').modal('show');

  $('.challenge-quiz-modal-form').validate({
    errorElement: 'span',
    errorPlacement: function (error, element) {
      var placement = $(element).data('error');
      if (placement) {
        $('.' + placement).html(error)
      } else {
        error.insertAfter(element);
      }
    }
  });
  customQuestionValidation();

<% elsif @challenge.challenge_type == "collect" && @challenge.parameters == 'survey' %>
  $('.challenge-submission-modal').html("<%= j render '/participants/challenges/modals/survey_modal', challenge: @challenge %>");
  $('#challenge_survey_modal').modal('show');

  $('.challenge-survey-form').validate({
    errorElement: 'span',
    errorPlacement: function (error, element) {
      var placement = $(element).data('error');
      if (placement) {
        $('.' + placement).html(error)
      } else {
        error.insertAfter(element);
      }
    }
  });
  customQuestionValidation();

<% elsif @challenge.challenge_type == "referral" %>
  $('.challenge-submission-modal').html("<%= escape_javascript render '/participants/challenges/modals/recruit_modal', challenge: @challenge %>");
  $('#recruit_modal').modal('show');
<% elsif @challenge.challenge_type == "collect" %>
<% elsif @challenge.challenge_type == "signup" %>
<% end %>

// Watch a video script and Initialise the iframe start
  onYouTubeIframeAPIReady()
